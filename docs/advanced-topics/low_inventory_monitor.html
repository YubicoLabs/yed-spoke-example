<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-advanced-topics/low_inventory_monitor">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Monitor for low organizational inventory | YubiEnterprise Delivery + ServiceNow Example</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yubicolabs.github.io/yed-spoke-example/img/yubico-logo.png"><meta data-rh="true" name="twitter:image" content="https://yubicolabs.github.io/yed-spoke-example/img/yubico-logo.png"><meta data-rh="true" property="og:url" content="https://yubicolabs.github.io/yed-spoke-example/docs/advanced-topics/low_inventory_monitor"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Monitor for low organizational inventory | YubiEnterprise Delivery + ServiceNow Example"><meta data-rh="true" name="description" content="We will use the skills learned in previous sections to enhance the functionality of our YubiEnterprise ServiceNow application to monitor and create an incident if any of our inventory items fall below a specific threshold. We will accomplish this by creating a new action that makes a REST call to the YubiEnterprise API’s GET /inventory method, and a workflow that calls this action on a daily occurrence."><meta data-rh="true" property="og:description" content="We will use the skills learned in previous sections to enhance the functionality of our YubiEnterprise ServiceNow application to monitor and create an incident if any of our inventory items fall below a specific threshold. We will accomplish this by creating a new action that makes a REST call to the YubiEnterprise API’s GET /inventory method, and a workflow that calls this action on a daily occurrence."><link data-rh="true" rel="icon" href="/yed-spoke-example/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yubicolabs.github.io/yed-spoke-example/docs/advanced-topics/low_inventory_monitor"><link data-rh="true" rel="alternate" href="https://yubicolabs.github.io/yed-spoke-example/docs/advanced-topics/low_inventory_monitor" hreflang="en"><link data-rh="true" rel="alternate" href="https://yubicolabs.github.io/yed-spoke-example/docs/advanced-topics/low_inventory_monitor" hreflang="x-default"><link rel="stylesheet" href="/yed-spoke-example/assets/css/styles.319d6c73.css">
<link rel="preload" href="/yed-spoke-example/assets/js/runtime~main.78ed3953.js" as="script">
<link rel="preload" href="/yed-spoke-example/assets/js/main.71a075de.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/yed-spoke-example/"><div class="navbar__logo"><img src="/yed-spoke-example/img/yubico-logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/yed-spoke-example/img/yubico-logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">YubiEnterprise Delivery ServiceNow Example</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/yed-spoke-example/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/YubicoLabs/yed-spoke-example" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/intro">YubiEnterprise Delivery API ServiceNow Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/prereqs">Prerequisites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/scoped_app">Create a scoped application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/catalog">Create catalog item</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/connections">Configure connection credentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/action">Create a custom action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/flow">Create a custom flow</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/yed-spoke-example/docs/category/advanced-use-cases">Advanced use cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced use cases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/yed-spoke-example/docs/advanced-topics/update_shipment_status">Open incident on shipment error</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/yed-spoke-example/docs/advanced-topics/low_inventory_monitor">Monitor for low organizational inventory</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/references">References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yed-spoke-example/docs/help_and_support">Help &amp; support</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/yed-spoke-example/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/yed-spoke-example/docs/category/advanced-use-cases"><span itemprop="name">Advanced use cases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Monitor for low organizational inventory</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Monitor for low organizational inventory</h1><p>We will use the skills learned in previous sections to enhance the functionality of our YubiEnterprise ServiceNow application to monitor and create an incident if any of our inventory items fall below a specific threshold. We will accomplish this by creating a new action that makes a REST call to the YubiEnterprise API’s <a href="https://console.yubico.com/apidocs/#tag/inventory/operation/GetInventoryOfOrganizationInContext" target="_blank" rel="noopener noreferrer"><code>GET /inventory</code></a> method, and a workflow that calls this action on a daily occurrence.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-action-to-get-inventory-details">Create an action to get inventory details<a href="#create-an-action-to-get-inventory-details" class="hash-link" aria-label="Direct link to Create an action to get inventory details" title="Direct link to Create an action to get inventory details">​</a></h2><p>We will start by creating an action that will allow us to get information about the inventory in our YubiEnterprise organization. We will use this information to detect if any of our inventory stocks have fallen under a specific threshold.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-properties">Action properties<a href="#action-properties" class="hash-link" aria-label="Direct link to Action properties" title="Direct link to Action properties">​</a></h3><p>On the ServiceNow home screen, search for <strong>flow designer</strong>.</p><p>Click <strong>Flow Designer</strong>, a new window should open.</p><p><img loading="lazy" alt="Configuration menu" src="/yed-spoke-example/assets/images/actions_1-6c8d24b2e107a86124eaf93c42a41fc6.png" width="2560" height="920" class="img_ev3q"></p><p>Once the <strong>Flow Designer</strong> page opens, click the <strong>Create new</strong> button, then select <strong>Action</strong>.</p><p><img loading="lazy" alt="Configuration menu" src="/yed-spoke-example/assets/images/actions_2-2fc809dc87561ebac60cb95a0c473be8.png" width="2560" height="618" class="img_ev3q"></p><p>A menu will appear to configure the action&#x27;s properties. Use the following values to initialize your action.</p><ul><li><strong>Action name</strong>: YubiEnterprise get low inventory</li><li><strong>Application</strong>: YubiEnterprise Delivery App</li><li><strong>Description</strong>: Get information about your organization&#x27;s YubiEnterprise inventory that has fallen below your defined threshold</li></ul><p><img loading="lazy" alt="Configuration menu" src="/yed-spoke-example/assets/images/bonus_inv_1-0daa2aedc3795a324bc8604ba79621ce.png" width="1346" height="1026" class="img_ev3q"></p><p>Click <strong>Submit</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-inputs">Action inputs<a href="#action-inputs" class="hash-link" aria-label="Direct link to Action inputs" title="Direct link to Action inputs">​</a></h3><p>Next we are going to configure the inputs that go into the action. This input is the threshold used to evaluate the different inventory buckets in your YubiEnterprise Console.</p><p>For each row in the table below, perform the following steps:</p><ol><li>Click the <strong>+Create Input</strong> button at the top.</li><li>Fill in the input using the data provided below to the corresponding field (note that name will be automatically input).</li></ol><table><thead><tr><th>Label</th><th>Type</th><th>Mandatory</th></tr></thead><tbody><tr><td>Inventory threshold</td><td>Integer</td><td>on</td></tr></tbody></table><p>Your actions input menu should look like the example below.</p><p><img loading="lazy" alt="Inputs menu" src="/yed-spoke-example/assets/images/bonus_inv_2-f91b81b9a890f7c08d5493cff969acda.png" width="2930" height="486" class="img_ev3q"></p><p>Click <strong>Save</strong> once your inputs are complete.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-rest-call">API REST call<a href="#api-rest-call" class="hash-link" aria-label="Direct link to API REST call" title="Direct link to API REST call">​</a></h3><p>Next we will configure the action step for making the REST HTTP call to the YubiEnterprise Delivery API.</p><p>On the left side, in the Action Outline, click the <strong>bottom</strong> blue <strong>+</strong> button.</p><p><img loading="lazy" alt="Add second action" src="/yed-spoke-example/assets/images/bonus_get_3-e71265225909e5dcdd4dbe6e788d5dd3.png" width="748" height="374" class="img_ev3q"></p><p>Search for <strong>rest</strong> and select the <strong>REST</strong> option</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If the REST option does not appear then you have not activated the IntegrationHub plugin. Follow the instructions in the <a href="/yed-spoke-example/docs/prereqs">prerequisites</a> section.</p></div></div><p><img loading="lazy" alt="Inputs menu" src="/yed-spoke-example/assets/images/actions_10-35c8b3dc1042df1274941090fd71c58c.png" width="1840" height="578" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="connection-details">Connection details<a href="#connection-details" class="hash-link" aria-label="Direct link to Connection details" title="Direct link to Connection details">​</a></h4><p>First we will add our API credentials to the REST call. We will utilize the connection alias that was created earlier in this guide.</p><p>Ensure that the Connection field is set to <strong>Use Connection Alias</strong>.</p><p>Change the <strong>Connection Alias</strong> to the one created earlier in the guide. The <strong>Base URL</strong> should be set automatically based on the connection alias.</p><p>Your connection details should look like the example below.</p><p><img loading="lazy" alt="Connection details final" src="/yed-spoke-example/assets/images/actions_11-c331950ddd19f34be8467ffe0796161c.png" width="1538" height="438" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="request-details">Request details<a href="#request-details" class="hash-link" aria-label="Direct link to Request details" title="Direct link to Request details">​</a></h4><p>Next we will configure the details of the API method call. We will be utilizing the <a href="https://console.yubico.com/apidocs/#tag/inventory/operation/GetInventoryOfOrganizationInContext" target="_blank" rel="noopener noreferrer"><code>GET /inventory</code></a> API method</p><p>Configure the Request Details section with the following values:</p><ul><li><strong>Build Request</strong>: Manually</li><li><strong>Resource Path</strong>: <strong>/inventory</strong></li><li><strong>HTTP Method</strong>: GET</li></ul><p>The <strong>Headers</strong> should include two header properties using the values below</p><table><thead><tr><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>Accept</td><td>application/json</td></tr><tr><td>Content-Type</td><td>application/json</td></tr></tbody></table><p>Your request details should look like the example below.</p><p><img loading="lazy" alt="Request details final" src="/yed-spoke-example/assets/images/bonus_inv_3-f823379e9624415e4c7ebe93daa6c0c0.png" width="2210" height="812" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="output-script">Output script<a href="#output-script" class="hash-link" aria-label="Direct link to Output script" title="Direct link to Output script">​</a></h3><p>We will now create a script to format the outputs of the action. This will ensure that we are able to evaluate all of the buckets in your inventory to ensure that we only alert you to the items below your specific threshold.</p><p>On the left side, in the Action Outline, click the bottom blue <strong>+</strong> button.</p><p><img loading="lazy" alt="Action outline 3" src="/yed-spoke-example/assets/images/bonus_get_5-c45a3ed3150addc30191b024562858aa.png" width="734" height="490" class="img_ev3q"></p><p>Search for <strong>scripts</strong> and select the <strong>Script</strong> option</p><p><img loading="lazy" alt="Script action step" src="/yed-spoke-example/assets/images/actions_6-aefdb287d08807a9c85cfad94f420ac5.png" width="1870" height="530" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="script-inputs">Script inputs<a href="#script-inputs" class="hash-link" aria-label="Direct link to Script inputs" title="Direct link to Script inputs">​</a></h4><p>We&#x27;ll start by creating the input for the script.</p><ol><li>Click the <strong>+Create Variable</strong> button</li><li><strong>Name</strong>: responseBody (case sensitive)</li><li><strong>Value</strong>: Drag the <strong>Response Body</strong> data pill from the <strong>REST step</strong> section on the right side of the menu</li><li>Click the <strong>+Create Variable</strong> button</li><li><strong>Name</strong>: inventory_threshold (case sensitive)</li><li><strong>Value</strong>: Drag the <strong>Inventory threshold</strong> data pill from the <strong>Input Variables</strong> section in the <strong>Data</strong> window on the right side of the menu</li></ol><p>Your script inputs menu should look like the example below.</p><p><img loading="lazy" alt="Script action step" src="/yed-spoke-example/assets/images/bonus_inv_4-f8426dd385dd52cd01d6323841e0955c.png" width="2922" height="1002" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-the-script">Adding the script<a href="#adding-the-script" class="hash-link" aria-label="Direct link to Adding the script" title="Direct link to Adding the script">​</a></h4><p>Next we are going to add a script to Script field. Copy the script provided below into the Script field.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">inputs</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> outputs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  outputs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">low_inventory_found</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inputs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">responseBody</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> org_prod_inv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">organization_product_inventory</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> below_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> org_prod_inv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> org_prod_inv</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">organization_product_quantity</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> inputs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">inventory_threshold</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> newMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">product_name</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;: Remaining Inventory - &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">organization_product_quantity</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;, &quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      below_threshold </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> newMessage</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">below_threshold </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    outputs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">low_inventory_found</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  outputs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">inventory_message</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> below_threshold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inputs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> outputs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="script-outputs">Script outputs<a href="#script-outputs" class="hash-link" aria-label="Direct link to Script outputs" title="Direct link to Script outputs">​</a></h4><p>Lastly, we will add the output variables for the script</p><p>For each row in the table below, perform the following steps:</p><ol><li>Click the <strong>+Create Variable</strong> button at the bottom.</li><li>Fill in the input using the data provided below to the corresponding field (note that name will be automatically input).</li></ol><table><thead><tr><th>Label</th><th>Type</th><th>Mandatory</th></tr></thead><tbody><tr><td>inventory_message</td><td>String</td><td>off</td></tr><tr><td>low_inventory_found</td><td>True/False</td><td>off</td></tr></tbody></table><p>Your script outputs menu should look like the example below.</p><p><img loading="lazy" alt="Script outputs" src="/yed-spoke-example/assets/images/bonus_inv_5-9fb9bcf73f29f91b1fd9d218f51475ef.png" width="2166" height="526" class="img_ev3q"></p><p>Click <strong>Save</strong> once your output script is complete</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-outputs">Action outputs<a href="#action-outputs" class="hash-link" aria-label="Direct link to Action outputs" title="Direct link to Action outputs">​</a></h3><p>Lastly we will define the outputs of the action. These outputs will be usable by the final flow that will evaluate whether or not to submit an incident.</p><p>We will start by clicking the <strong>Outputs</strong> tab in the <strong>Action Outline</strong> pane.</p><p><img loading="lazy" alt="Action outline outputs" src="/yed-spoke-example/assets/images/bonus_get_7-a4bb5dcbb96734155ad9bb9cd017a08f.png" width="660" height="616" class="img_ev3q"></p><p>Next we are going to configure the outputs.</p><p>For each row in the table below, perform the following steps:</p><ol><li>Click the <strong>+Create Output</strong> button at the top.</li><li>Fill in the input using the data provided below to the corresponding field (Note: Unlike the previous examples, the <strong>Name</strong> field is not auto-populated).</li></ol><table><thead><tr><th>Label</th><th>Name</th><th>Type</th><th>Mandatory</th></tr></thead><tbody><tr><td>HTTP Status Code</td><td>http_status_code</td><td>String</td><td>off</td></tr><tr><td>HTTP Error Code</td><td>http_error_code</td><td>String</td><td>off</td></tr><tr><td>HTTP Error Message</td><td>http_error_message</td><td>String</td><td>off</td></tr><tr><td>Inventory Message</td><td>inventory_message</td><td>String</td><td>off</td></tr><tr><td>Low Inventory Found</td><td>low_inventory_found</td><td>True/False</td><td>off</td></tr></tbody></table><p>Your actions outputs menu should look like the example below.</p><p><img loading="lazy" alt="Inputs menu" src="/yed-spoke-example/assets/images/bonus_inv_6-7ab29c212626ad9eefcf8fef074c2979.png" width="2264" height="886" class="img_ev3q"></p><p>Once complete, press the <strong>Exit Edit Mode</strong> button on the top of the menu.</p><p>A new menu should appear showing the outputs you just defined with empty <strong>Value</strong> fields. For each output, you will add a data pill from the <strong>REST step</strong> and <strong>the second</strong> <strong>Script step</strong> sections on the right side of the menu</p><p>Use the table below to correlate the correct data pill to a label.</p><table><thead><tr><th>Label</th><th>Section &gt; Data pill</th></tr></thead><tbody><tr><td>HTTP Status Code</td><td>REST step &gt; Status Code</td></tr><tr><td>HTTP Error Code</td><td>REST step &gt; Error Code</td></tr><tr><td>HTTP Error Message</td><td>REST step &gt; Error message</td></tr><tr><td>Inventory Message</td><td>Script step &gt; inventory_message</td></tr><tr><td>Low Inventory Found</td><td>Script Step &gt; low_inventory_found</td></tr></tbody></table><p>Your actions outputs menu should look like the example below.</p><p><img loading="lazy" alt="Inputs menu" src="/yed-spoke-example/assets/images/bonus_inv_7-344375a63bf8e49b3dd22b80c8db1cf0.png" width="2272" height="950" class="img_ev3q"></p><p>Click <strong>Save</strong> once your outputs are complete</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-the-action">Test the action<a href="#test-the-action" class="hash-link" aria-label="Direct link to Test the action" title="Direct link to Test the action">​</a></h3><p>Lastly we want to ensure that the action can be run. This will be used to ensure that our API credentials + script + REST call are configured correctly.</p><p>At the top of the Actions menu, click the <strong>Test</strong> button</p><p><img loading="lazy" alt="Inputs menu" src="/yed-spoke-example/assets/images/bonus_inv_8-c71aeb29fba8e0b500af4368f407eb88.png" width="3574" height="340" class="img_ev3q"></p><p>A menu should appear, which will ask for a Inventory threshold.</p><p>You may want to run two different tests</p><ul><li>One with a number below all of your inventory buckets</li><li>One with a number above one or all of your inventory buckets</li></ul><p>The goal of these tests will be to show that your action can respond correctly when all buckets are above your threshold, and when one item falls below the threshold.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Below are some tips and pitfalls to watch out for in this initial test</p><ul><li>If you receive a 401 error, that means your API credentials are not correct</li></ul></div></div><p>When ready click the <strong>Run Test</strong> button at the bottom of the screen.</p><p>Wait on the current page until a message appears saying &quot;Your test has finished running. View the action execution details.&quot;</p><p><img loading="lazy" alt="Action test complete" src="/yed-spoke-example/assets/images/actions_21-cfe0e06891b069e25b057ac3705780bd.png" width="1858" height="122" class="img_ev3q"></p><p>Click on the message to see the execution details.</p><p>On the execution details screen, scroll until you see the <strong>Output Data</strong> section. The HTTP Status Code should be 200. If the response was not 200, take a look at the tips above, check the error message output, or expand the <strong>Steps</strong> section at the bottom of the details screen to troubleshoot.</p><p>Below is an example of a successful outputs screen</p><p><img loading="lazy" alt="Execution details" src="/yed-spoke-example/assets/images/bonus_inv_9-f55eef44bac9c4db18c8be42e71eb5d0.png" width="3554" height="1428" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="publish-the-action">Publish the action<a href="#publish-the-action" class="hash-link" aria-label="Direct link to Publish the action" title="Direct link to Publish the action">​</a></h3><p>If everything looks good, click the <strong>Publish</strong> button at the top of the action menu to make the action available for all flows.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-monitoring-flow">Create monitoring flow<a href="#create-monitoring-flow" class="hash-link" aria-label="Direct link to Create monitoring flow" title="Direct link to Create monitoring flow">​</a></h2><p>For this next step, we will create a flow that will continuously run in your ServiceNow instance to monitor for any inventory buckets that have fallen below your specified threshold.</p><p>Unlike the previous flows that we have configured, this one will run every day on a timer vs being triggered by a service request.</p><p>If any of your inventory buckets are found to have fallen under your threshold, a new incident will be opened for your team to investigate, and to either work with Yubico if you want to add additional keys to your inventory, or to cutover to your buffer bucket (if you are leveraging a YubiEnterprise subscription).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="flow-properties">Flow properties<a href="#flow-properties" class="hash-link" aria-label="Direct link to Flow properties" title="Direct link to Flow properties">​</a></h2><p>On the ServiceNow home screen, search for <strong>flow designer</strong>.</p><p>Click <strong>Flow Designer</strong>, a new window should open.</p><p><img loading="lazy" alt="Configuration menu" src="/yed-spoke-example/assets/images/actions_1-6c8d24b2e107a86124eaf93c42a41fc6.png" width="2560" height="920" class="img_ev3q"></p><p>Once the <strong>Flow Designer</strong> page opens, click the <strong>Create new</strong> button, then select <strong>Flow</strong>.</p><p><img loading="lazy" alt="Configuration menu" src="/yed-spoke-example/assets/images/flow_1-7ba40c5e3f8713d41b56feebc8d85bb4.png" width="3056" height="514" class="img_ev3q"></p><p>A menu will appear to configure the action&#x27;s properties. Use the following values to initialize your action.</p><ul><li><strong>Flow name</strong>: YubiEnterprise monitor inventory</li><li><strong>Description</strong>: Flow to monitor for low YubiEnterprise inventory</li><li><strong>Application</strong>: YubiEnterprise Delivery App</li><li>Use the defaults for the remaining properties</li></ul><p><img loading="lazy" alt="Flow properties" src="/yed-spoke-example/assets/images/bonus_inv_10-6f65c2859c9993c9c245babd38ef5b6a.png" width="1334" height="996" class="img_ev3q"></p><p>Click <strong>Submit</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-flow-trigger">Add flow trigger<a href="#add-flow-trigger" class="hash-link" aria-label="Direct link to Add flow trigger" title="Direct link to Add flow trigger">​</a></h3><p>Next we&#x27;re going to add a trigger for the flow. As mentioned previously, this flow will run automatically once a day to check your current inventory levels.</p><p>First, click the <strong>+ Add a trigger</strong> button.</p><p><img loading="lazy" alt="Add a trigger button" src="/yed-spoke-example/assets/images/bonus_inv_11-a4f84454e20fccf9ce9b7114c0b31553.png" width="1162" height="338" class="img_ev3q"></p><p>A menu should appear to search for a trigger. Search for <strong>daily</strong> and select <strong>Daily</strong>. This option can also be found in the <strong>Scheduled</strong> category.</p><p><img loading="lazy" alt="Add a trigger button" src="/yed-spoke-example/assets/images/bonus_inv_12-9a1ebbe0b377dcf7f19f95024e1b6388.png" width="1502" height="1226" class="img_ev3q"></p><p>When prompted for the time, enter your desired time for the flow to trigger. For our example, we will set the flow to trigger at 13:00:00.</p><p>Once configured, press <strong>Done</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-the-action">Add the action<a href="#add-the-action" class="hash-link" aria-label="Direct link to Add the action" title="Direct link to Add the action">​</a></h3><p>Next we&#x27;re going to add the action that was configured earlier on this page.</p><p>First click the <strong>+ Add an Action, Flow Logic, or Subflow</strong> button.</p><p>Next click <strong>Action</strong>. When the menu appears, search for <strong>yubienterprise get low inventory</strong>, and select <strong>YubiEnterprise get low inventory</strong>.</p><p><img loading="lazy" alt="add action" src="/yed-spoke-example/assets/images/bonus_inv_13-985777c7a1c4f24736f7ca289d5bb3e5.png" width="1502" height="974" class="img_ev3q"></p><p>From here we are going to add our inventory threshold to the action.</p><p>Enter your threshold into the <strong>YubiEnterprise get low inventory</strong> action. An example of this configuration can be found below.</p><p><img loading="lazy" alt="add action" src="/yed-spoke-example/assets/images/bonus_inv_14-6f7a9012a045c8839751aedc421376f2.png" width="2884" height="590" class="img_ev3q"></p><p>Click <strong>Done</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="evaluate-the-low-inventory-flag">Evaluate the low inventory flag<a href="#evaluate-the-low-inventory-flag" class="hash-link" aria-label="Direct link to Evaluate the low inventory flag" title="Direct link to Evaluate the low inventory flag">​</a></h2><p>Now that we have received details about our current inventory, let&#x27;s use the result of the previous action to see if an incident should be opened.</p><p>First, we&#x27;re going to add a conditional check to see if the <strong>Low Inventory Found</strong> flag was set to <strong>true</strong></p><p>Under the <strong>Set Flow Variables</strong> action click the <strong>+ Add an Action, Flow Logic, or Subflow</strong> button.</p><p>Next, select <strong>Flow Logic</strong>.</p><p>Next, search for <strong>if</strong>, then select <strong>If</strong>.</p><p><img loading="lazy" alt="Set flow variables final" src="/yed-spoke-example/assets/images/bonus_inv_15-751f8c20ff96083a435aaf5a84a9ea1f.png" width="1098" height="954" class="img_ev3q"></p><p>A new menu should appear. Configure it with the following values:</p><ul><li><strong>Condition Label</strong>: Low inventory detected</li><li><strong>Condition 1</strong><ul><li>Drag the <strong>Low Inventory Found</strong> flow variable into the first box</li><li>Keep the condition as <strong>is</strong></li><li>In the third box, select <strong>True</strong></li></ul></li></ul><p>Your final menu should resemble the image below.</p><p><img loading="lazy" alt="Detect error config" src="/yed-spoke-example/assets/images/bonus_inv_16-355083710ad9f6ac1c972b846cf7780b.png" width="2866" height="776" class="img_ev3q"></p><p>When complete, click <strong>Done</strong>.</p><p>Under the new <strong>If</strong> step, click the <strong>then +</strong> button.</p><p>Click <strong>Action</strong>.</p><p>Search for <strong>create record</strong>. Select <strong>Create Record</strong> in the <strong>ServiceNow Core</strong> category.</p><p><img loading="lazy" alt="Detect error config" src="/yed-spoke-example/assets/images/bonus_inv_17-3778b8551a7851ab6a0af86053d80c01.png" width="1504" height="1154" class="img_ev3q"></p><p>A new menu should appear. Configure it with the following values:</p><ul><li><strong>Table</strong>: Select Incident <!-- -->[<!-- -->incident<!-- -->]</li><li>Click the Add field value button 2 times. Add the following fields and values<ul><li><strong>Short description</strong>: YubiEnterprise Inventory Low</li><li><strong>Description</strong>: The following inventory buckets have low inventory: <!-- -->[<!-- -->Add data pill for <strong>Inventory Message</strong>]</li></ul></li></ul><p>Your configurations should look like the image below.</p><p><img loading="lazy" alt="Create incident config" src="/yed-spoke-example/assets/images/bonus_inv_18-7d384a5bb22c89c5677e8c8635824392.png" width="2670" height="778" class="img_ev3q"></p><p>When complete click <strong>Done</strong>.</p><p>At this point, all of the steps of the flow have been configured. Your flow should resemble to the image below</p><p><img loading="lazy" alt="Create incident config" src="/yed-spoke-example/assets/images/bonus_inv_19-79be3315d21c0757ada9f9e4a85e2641.png" width="1138" height="996" class="img_ev3q"></p><p>Click the <strong>Save</strong> button at the top of the screen. Once the flow is done saving click <strong>Activate</strong>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-the-solution">Test the solution<a href="#test-the-solution" class="hash-link" aria-label="Direct link to Test the solution" title="Direct link to Test the solution">​</a></h2><p>To ensure that the flow is functioning correctly, we can test our current configurations. As stated above, you should run the test multiple times in order to evaluate the following scenarios:</p><ul><li>Threshold below all of your inventory buckets</li><li>Threshold above one or all of your inventory buckets</li></ul><p>At the top of your screen, click the <strong>Test</strong> button</p><p><img loading="lazy" alt="Create incident config" src="/yed-spoke-example/assets/images/bonus_inv_20-81ca356fe8c14bf1cd2a5d0776f26c48.png" width="3556" height="338" class="img_ev3q"></p><p>After the pop-up menu appears, click <strong>Run Test</strong>.</p><p>Wait for the flow to complete.</p><p>Below are examples of the incident table, and incident details for a flow test where there were items found in the inventory below our specified threshold.</p><p><img loading="lazy" alt="Incident table" src="/yed-spoke-example/assets/images/bonus_inv_21-9bf7ce3c5e1f0a45dfb2957c5caaf535.png" width="3566" height="268" class="img_ev3q"></p><p><img loading="lazy" alt="Incident details" src="/yed-spoke-example/assets/images/bonus_inv_22-813430c680e0068b3e3bbb903d793448.png" width="3566" height="980" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/YubicoLabs/yed-spoke-example/tree/main/docs/docs/advanced-topics/low_inventory_monitor.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/yed-spoke-example/docs/advanced-topics/update_shipment_status"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Open incident on shipment error</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/yed-spoke-example/docs/references"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">References</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-an-action-to-get-inventory-details" class="table-of-contents__link toc-highlight">Create an action to get inventory details</a><ul><li><a href="#action-properties" class="table-of-contents__link toc-highlight">Action properties</a></li><li><a href="#action-inputs" class="table-of-contents__link toc-highlight">Action inputs</a></li><li><a href="#api-rest-call" class="table-of-contents__link toc-highlight">API REST call</a></li><li><a href="#output-script" class="table-of-contents__link toc-highlight">Output script</a></li><li><a href="#action-outputs" class="table-of-contents__link toc-highlight">Action outputs</a></li><li><a href="#test-the-action" class="table-of-contents__link toc-highlight">Test the action</a></li><li><a href="#publish-the-action" class="table-of-contents__link toc-highlight">Publish the action</a></li></ul></li><li><a href="#create-monitoring-flow" class="table-of-contents__link toc-highlight">Create monitoring flow</a></li><li><a href="#flow-properties" class="table-of-contents__link toc-highlight">Flow properties</a><ul><li><a href="#add-flow-trigger" class="table-of-contents__link toc-highlight">Add flow trigger</a></li><li><a href="#add-the-action" class="table-of-contents__link toc-highlight">Add the action</a></li></ul></li><li><a href="#evaluate-the-low-inventory-flag" class="table-of-contents__link toc-highlight">Evaluate the low inventory flag</a></li><li><a href="#test-the-solution" class="table-of-contents__link toc-highlight">Test the solution</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Other resources and guides</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developers.yubico.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">developers.yubico.com</a></li><li class="footer__item"><a href="https://yubicolabs.github.io/passkey-workshop/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Passkey workshop</a></li><li class="footer__item"><a href="https://yubicolabs.github.io/secure-software-supply-chain-guide/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Secure software supply chain guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/yubico" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Yubico © 2024. Built with Docusaurus.</div></div></div></footer></div>
<script src="/yed-spoke-example/assets/js/runtime~main.78ed3953.js"></script>
<script src="/yed-spoke-example/assets/js/main.71a075de.js"></script>
</body>
</html>